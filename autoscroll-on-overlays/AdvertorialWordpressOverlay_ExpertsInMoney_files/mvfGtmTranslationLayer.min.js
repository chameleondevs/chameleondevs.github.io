var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.arrayIteratorImpl=function(b){var a=0;return function(){return a<b.length?{done:!1,value:b[a++]}:{done:!0}}};$jscomp.arrayIterator=function(b){return{next:$jscomp.arrayIteratorImpl(b)}};$jscomp.makeIterator=function(b){var a="undefined"!=typeof Symbol&&Symbol.iterator&&b[Symbol.iterator];return a?a.call(b):$jscomp.arrayIterator(b)};$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.ASSUME_ES5=!1;
$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.FORCE_POLYFILL_PROMISE_WHEN_NO_UNHANDLED_REJECTION=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(b,a,c){if(b==Array.prototype||b==Object.prototype)return b;b[a]=c.value;return b};
$jscomp.getGlobal=function(b){b=["object"==typeof globalThis&&globalThis,b,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global];for(var a=0;a<b.length;++a){var c=b[a];if(c&&c.Math==Math)return c}throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"===typeof Symbol&&"symbol"===typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};
$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";var $jscomp$lookupPolyfilledValue=function(b,a){var c=$jscomp.propertyToPolyfillSymbol[a];if(null==c)return b[a];c=b[c];return void 0!==c?c:b[a]};$jscomp.polyfill=function(b,a,c,d){a&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(b,a,c,d):$jscomp.polyfillUnisolated(b,a,c,d))};
$jscomp.polyfillUnisolated=function(b,a,c,d){c=$jscomp.global;b=b.split(".");for(d=0;d<b.length-1;d++){var e=b[d];if(!(e in c))return;c=c[e]}b=b[b.length-1];d=c[b];a=a(d);a!=d&&null!=a&&$jscomp.defineProperty(c,b,{configurable:!0,writable:!0,value:a})};
$jscomp.polyfillIsolated=function(b,a,c,d){var e=b.split(".");b=1===e.length;d=e[0];d=!b&&d in $jscomp.polyfills?$jscomp.polyfills:$jscomp.global;for(var f=0;f<e.length-1;f++){var g=e[f];if(!(g in d))return;d=d[g]}e=e[e.length-1];c=$jscomp.IS_SYMBOL_NATIVE&&"es6"===c?d[e]:null;a=a(c);null!=a&&(b?$jscomp.defineProperty($jscomp.polyfills,e,{configurable:!0,writable:!0,value:a}):a!==c&&(void 0===$jscomp.propertyToPolyfillSymbol[e]&&(c=1E9*Math.random()>>>0,$jscomp.propertyToPolyfillSymbol[e]=$jscomp.IS_SYMBOL_NATIVE?
$jscomp.global.Symbol(e):$jscomp.POLYFILL_PREFIX+c+"$"+e),$jscomp.defineProperty(d,$jscomp.propertyToPolyfillSymbol[e],{configurable:!0,writable:!0,value:a})))};$jscomp.assign=$jscomp.TRUST_ES6_POLYFILLS&&"function"==typeof Object.assign?Object.assign:function(b,a){for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d)for(var e in d)$jscomp.owns(d,e)&&(b[e]=d[e])}return b};$jscomp.polyfill("Object.assign",function(b){return b||$jscomp.assign},"es6","es3");
$jscomp.polyfill("Object.entries",function(b){return b?b:function(a){var c=[],d;for(d in a)$jscomp.owns(a,d)&&c.push([d,a[d]]);return c}},"es8","es3");$jscomp.polyfill("Object.values",function(b){return b?b:function(a){var c=[],d;for(d in a)$jscomp.owns(a,d)&&c.push(a[d]);return c}},"es8","es3");$jscomp.initSymbol=function(){};
$jscomp.polyfill("Symbol",function(b){if(b)return b;var a=function(f,g){this.$jscomp$symbol$id_=f;$jscomp.defineProperty(this,"description",{configurable:!0,writable:!0,value:g})};a.prototype.toString=function(){return this.$jscomp$symbol$id_};var c="jscomp_symbol_"+(1E9*Math.random()>>>0)+"_",d=0,e=function(f){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new a(c+(f||"")+"_"+d++,f)};return e},"es6","es3");
$jscomp.polyfill("Symbol.iterator",function(b){if(b)return b;b=Symbol("Symbol.iterator");for(var a="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),c=0;c<a.length;c++){var d=$jscomp.global[a[c]];"function"===typeof d&&"function"!=typeof d.prototype[b]&&$jscomp.defineProperty(d.prototype,b,{configurable:!0,writable:!0,value:function(){return $jscomp.iteratorPrototype($jscomp.arrayIteratorImpl(this))}})}return b},"es6",
"es3");$jscomp.iteratorPrototype=function(b){b={next:b};b[Symbol.iterator]=function(){return this};return b};$jscomp.iteratorFromArray=function(b,a){b instanceof String&&(b+="");var c=0,d=!1,e={next:function(){if(!d&&c<b.length){var f=c++;return{value:a(f,b[f]),done:!1}}d=!0;return{done:!0,value:void 0}}};e[Symbol.iterator]=function(){return e};return e};$jscomp.polyfill("Array.prototype.keys",function(b){return b?b:function(){return $jscomp.iteratorFromArray(this,function(a){return a})}},"es6","es3");
$jscomp.findInternal=function(b,a,c){b instanceof String&&(b=String(b));for(var d=b.length,e=0;e<d;e++){var f=b[e];if(a.call(c,f,e,b))return{i:e,v:f}}return{i:-1,v:void 0}};$jscomp.polyfill("Array.prototype.find",function(b){return b?b:function(a,c){return $jscomp.findInternal(this,a,c).v}},"es6","es3");window.chameleon=window.chameleon||{};
window.chameleon.mvfGtmTranslationLayer=function(){var b=function(){this.chameleonWidgets={}};b.getInstance=function(){b.instance||(b.instance=new b);return b.instance};b.runIfFunction=function(a,c){"function"===typeof a&&a(c)};b.pushEventToDataLayer=function(a,c){window.dataLayer=window.dataLayer||[];window.dataLayer.push(Object.assign({},c,{event:a}))};b.buildFormPages=function(a){var c={};Object.entries(a).forEach(function(d){var e=$jscomp.makeIterator(d);d=e.next().value;e=e.next().value;void 0===
c[e.page]&&(c[e.page]={});c[e.page][d]={name:e.name,inputType:e.inputType,page:e.page,id:d}});return c};b.buildComponentVisibility=function(a){var c={};Object.entries(a).forEach(function(d){var e=$jscomp.makeIterator(d);d=e.next().value;e=e.next().value;c[d]=e.isVisible});return c};b.prototype.getCurrentWidget=function(a){return this.chameleonWidgets[a]};b.prototype.getFormPages=function(a){return this.getCurrentWidget(a).formPages};b.prototype.getPage=function(a,c){return this.getFormPages(a)[c]};
b.prototype.getAnswerDetails=function(a){return this.getCurrentWidget(a).answerDetails};b.prototype.getComponentAnswerDetails=function(a,c){return this.getAnswerDetails(a)[c]};b.prototype.getQuestionNumberForDisplay=function(a,c){for(var d=this,e=0,f=this.getCurrentWidget(a).formPages,g=1;g<=parseInt(c,10);g+=1)"object"===typeof f[g]&&Object.values(f[g]).some(function(k){return d.isVisibleQuestionInput(a,k)})&&(e+=1);return e};b.prototype.getTotalQuestions=function(a){var c=Object.keys(this.getFormPages(a)).length;
return this.getQuestionNumberForDisplay(a,c)};b.prototype.getCurrentQuestionInfo=function(a,c){var d=this,e=this.getPage(a,c);e=Object.values(e).filter(function(f){return d.isVisibleQuestionInput(a,f)});return{currentQuestion:e.map(function(f){return f.name.trim()}).join("|"),currentQuestionNumber:this.getQuestionNumberForDisplay(a,c),currentComponentId:e.map(function(f){return f.id}).join("|"),currentQuestionInputType:e.map(function(f){return f.inputType}).join("|")}};b.prototype.getLastAnsweredQuestionInfo=
function(a){var c=this,d={},e=this.getCurrentWidget(a),f=e.formPages,g=e.furthestNavigatedPage;e=Object.keys(f).filter(function(k){return parseInt(k,10)<parseInt(g,10)});if(0===e.length)return d;e.sort(function(k,l){return k-l});e.reverse();e.some(function(k){var l=Object.values(f[k]).filter(function(h){return c.isVisibleQuestionInput(a,h)});if(0<l.length&&l.every(function(h){return void 0!==c.getComponentAnswerDetails(a,h.id)})){var m=Object.values(c.getAnswerDetails(a)).find(function(h){return!!h.visitorTier});
m=m?m.visitorTier:"";d={lastAnsweredQuestion:l.map(function(h){return h.name.trim()}).join("|"),lastAnsweredQuestionNumber:c.getQuestionNumberForDisplay(a,k),lastAnsweredAnswer:l.map(function(h){return c.getComponentAnswerDetails(a,h.id).value}).join("|"),visitorTier:m};return!0}return!1});return d};b.prototype.getComponentVisibility=function(a){return this.getCurrentWidget(a).componentVisibility};b.prototype.isVisibleComponent=function(a,c){return this.getComponentVisibility(a)[c]};b.prototype.isVisibleQuestionInput=
function(a,c){return"loader"!==c.inputType&&"html"!==c.inputType&&"text"!==c.inputType&&this.isVisibleComponent(a,c.id)};b.prototype.isFormPagesBuildComplete=function(a){return 0!==Object.keys(this.getFormPages(a)).length};b.prototype.getErrorsInfo=function(a){var c=this.chameleonWidgets[a].currentQuestionErrors;a={};a=Object.keys(c).map(function(g){return c[g].errorType}).join("|");var d=Object.keys(c).map(function(g){return c[g].inputType}).join("|"),e=Object.keys(c).map(function(g){return c[g].currentQuestion.trim()}).join("|"),
f=Object.keys(c).join("|");return a={errorType:a,currentQuestionInputType:d,currentQuestion:e,currentComponentId:f}};b.prototype.pageChangedEventHandler=function(a,c){var d=this.chameleonWidgets[a];this.isFormPagesBuildComplete(a)||(d.formPages=b.buildFormPages(c.formComponents));d.componentVisibility=b.buildComponentVisibility(c.formComponents);c.destinationPage>d.furthestNavigatedPage&&(d.furthestNavigatedPage=c.destinationPage);var e=this.getCurrentQuestionInfo(a,c.destinationPage);c=e.currentQuestion;
var f=e.currentQuestionNumber,g=e.currentComponentId;e=e.currentQuestionInputType;""!==c&&(d=Object.assign({},{iFrameId:a,totalQuestions:this.getTotalQuestions(a),widgetLabel:d.widgetLabel,currentQuestion:c,currentQuestionNumber:f,currentComponentId:g,currentQuestionInputType:e},this.getLastAnsweredQuestionInfo(a)),b.pushEventToDataLayer("pageChanged",d),this.chameleonWidgets[a].currentQuestionErrors={})};b.prototype.formErrorEventHandler=function(a,c){c={errorType:c.errorType,inputType:c.componentInputType,
iFrameId:a,componentId:c.componentId,currentQuestion:c.currentQuestion,currentQuestionNumber:this.getQuestionNumberForDisplay(a,c.pageNumber)};this.chameleonWidgets[a].currentQuestionErrors=Object.assign({},this.chameleonWidgets[a].currentQuestionErrors);this.chameleonWidgets[a].currentQuestionErrors[c.componentId]=c};b.prototype.formSubmitEventHandler=function(a,c){var d=this.chameleonWidgets[a];d.furthestNavigatedPage+=1;a=Object.assign({},c,{iFrameId:a,widgetLabel:d.widgetLabel,isResubmission:0<
d.submissionEventsSent},this.getLastAnsweredQuestionInfo(a));b.pushEventToDataLayer("formSubmit",a);d.submissionEventsSent+=1};b.prototype.questionAnsweredEventHandler=function(a,c){this.getAnswerDetails(a)[c.componentId]={value:c.value,visitorTier:c.visitorTier}};b.prototype.initialWidgetLoadEventHandler=function(a,c){var d=this.chameleonWidgets[a];this.isFormPagesBuildComplete(a)||(this.getCurrentWidget(a).formPages=b.buildFormPages(c.formComponents),this.getCurrentWidget(a).componentVisibility=
b.buildComponentVisibility(c.formComponents));b.pushEventToDataLayer("initialWidgetLoad",Object.assign({},{iFrameId:a,widgetLabel:d.widgetLabel,totalQuestions:this.getTotalQuestions(a)},this.getCurrentQuestionInfo(a,c.currentPage)))};b.prototype.failedForwardPageNavigationEventHandler=function(a,c){var d=this.getErrorsInfo(a);0!==Object.keys(d).length&&(c=Object.assign({},d,{iFrameId:a,currentQuestionNumber:this.getQuestionNumberForDisplay(a,c.currentPage)}),b.pushEventToDataLayer("formError",c),
this.chameleonWidgets[a].currentQuestionErrors={})};b.prototype.addTranslationLayer=function(a){var c=this,d=a.iFrameId,e=void 0===a.eventHandlers?{}:a.eventHandlers;this.chameleonWidgets[d]={widgetLabel:void 0===a.widgetLabel?"":a.widgetLabel,formPages:{},answerDetails:{},componentVisibility:{},furthestNavigatedPage:1,currentQuestionErrors:{},submissionEventsSent:0};return Object.assign({},e,{initialWidgetLoad:function(f){c.initialWidgetLoadEventHandler(d,f);b.runIfFunction(e.initialWidgetLoad,f)},
initialWidgetInteraction:function(f){b.pushEventToDataLayer("initialWidgetInteraction",f);b.runIfFunction(e.initialWidgetInteraction,f)},widgetVisible:function(f){b.pushEventToDataLayer("widgetVisible",f);b.runIfFunction(e.widgetVisible,f)},pageChanged:function(f){c.pageChangedEventHandler(d,f);b.runIfFunction(e.pageChanged,f)},questionAnswered:function(f){c.questionAnsweredEventHandler(d,f);b.runIfFunction(e.questionAnswered,f)},finalSubmission:function(f){c.formSubmitEventHandler(d,f);b.runIfFunction(e.formSubmit,
f);b.runIfFunction(e.finalSubmission,f)},formSubmit:function(f){c.formSubmitEventHandler(d,f);b.runIfFunction(e.formSubmit,f);b.runIfFunction(e.finalSubmission,f)},formError:function(f){c.formErrorEventHandler(d,f);b.runIfFunction(e.formError,f)},failedForwardPageNavigation:function(f){c.failedForwardPageNavigationEventHandler(d,f)}})};return{addTranslationLayer:function(a){return b.getInstance().addTranslationLayer(a)}}}();
